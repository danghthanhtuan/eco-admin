<div class="card card-custom gutter-b">
  <ng-container *ngIf="isLoading$ | async">
    <div class="progress progress-modal">
      <div
        class="progress-bar progress-bar-striped progress-bar-animated bg-primary"
        role="progressbar"
        style="width: 100%"
        aria-valuenow="100"
        aria-valuemin="0"
        aria-valuemax="100"
      ></div>
    </div>
  </ng-container>

  <div class="card-header">
    <div class="card-title">
      <!-- <h3 class="card-label">
        <ng-container *ngIf="product">
          {{ id ? "Edit" : "New" }} product
          <span *ngIf="product && product.id"
            >'{{ product.manufacture }} {{ product.model }} -
            {{ product.modelYear }}'</span
          >
        </ng-container>
        {{ product?.manufacture }}
      </h3> -->
    </div>
    <div class="card-toolbar">
      <a type="button" class="btn btn-danger" routerLink="/ecommerce/products">
        <i class="fa fa-arrow-left"></i>Quay lại
      </a>
      <button class="btn btn-primary ml-2" (click)="reset()">
        <i class="fa fa-redo"></i>Reset
      </button>
    </div>
  </div>
  <div class="card-body">
    <ul class="nav nav-tabs nav-tabs-line" role="tablist">
      <li class="nav-item cursor-pointer" (click)="changeTab(tabs.BASIC_TAB)">
        <a
          class="nav-link"
          data-toggle="tab"
          role="tab"
          [attr.aria-selected]="activeTabId === tabs.BASIC_TAB"
          [class.active]="activeTabId === tabs.BASIC_TAB"
        >
          Thông tin sản phẩm
        </a>
      </li>
      <li
        *ngIf="product && product.id"
        class="nav-item cursor-pointer"
        (click)="changeTab(tabs.REMARKS_TAB)"
      >
        <a
          class="nav-link"
          data-toggle="tab"
          role="button"
          [attr.aria-selected]="activeTabId === tabs.REMARKS_TAB"
          [class.active]="activeTabId === tabs.REMARKS_TAB"
          >Product remarks</a
        >
      </li>
      <li
        *ngIf="product && product.id"
        class="nav-item cursor-pointer"
        (click)="changeTab(tabs.SPECIFICATIONS_TAB)"
      >
        <a
          class="nav-link"
          data-toggle="tab"
          role="tab"
          [attr.aria-selected]="activeTabId === tabs.SPECIFICATIONS_TAB"
          [class.active]="activeTabId === tabs.SPECIFICATIONS_TAB"
          >Product specifications</a
        >
      </li>
    </ul>

    <ng-container *ngIf="activeTabId === tabs.BASIC_TAB">
      <div class="mt-5" *ngIf="product">
        <form
          action="#"
          class="form form-label-right"
          [formGroup]="formGroup"
          (ngSubmit)="save()"
        >
          <div class="form-group row">
            <div class="col-lg-4">
              <label>Mã sản phẩm</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="Mã sản phẩm"
                name="productCode"
                formControlName="productCode"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('productCode')">
                <b>Mã sản phẩm</b> không được bỏ trống
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('productCode')">
                Model was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'productCode')"
              >
                Mã sản phẩm không được bỏ trống
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'productCode')"
              >
                Mã sản phẩm ít nhất 3 ký tự
              </div> -->
              <!-- <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'productName')"
              >
                Model should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>Tên sản phẩm</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="Tên sản phẩm"
                name="productName"
                formControlName="productName"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('productName')">
                <b>Tên sản phẩm</b> không được bỏ trống
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('productName')">
                Model was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'productName')"
              >
                Tên sản phẩm không được bỏ trống
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'productName')"
              >
                Tên sản phẩm ít nhất 3 ký tự
              </div> -->
              <!-- <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'productName')"
              >
                Model should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>Tiêu đề SEO</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="Tên sản phẩm"
                name="seoTitle"
                formControlName="seoTitle"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('productName')">
                <b>Tên sản phẩm</b> không được bỏ trống
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('productName')">
                Model was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'productName')"
              >
                Tên sản phẩm không được bỏ trống
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'productName')"
              >
                Tên sản phẩm ít nhất 3 ký tự
              </div> -->
              <!-- <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'productName')"
              >
                Model should have maximum 100 symbols
              </div> -->
            </div>
            <!-- <div class="col-lg-4">
              <label>Select Manufacture</label>
              <select
                class="form-control form-control-lg form-control-solid"
                name="manufacture"
                formControlName="manufacture"
              >
                <option value="Pontiac">Pontiac</option>
                <option value="Kia">Kia</option>
                <option value="Lotus">Lotus</option>
                <option value="Subaru">Subaru</option>
                <option value="Jeep">Jeep</option>
                <option value="Isuzu">Isuzu</option>
                <option value="Mitsubishi">Mitsubishi</option>
                <option value="Oldsmobile">Oldsmobile</option>
                <option value="Chevrolet">Chevrolet</option>
                <option value="Chrysler">Chrysler</option>
                <option value="Audi">Audi</option>
                <option value="Suzuki">Suzuki</option>
                <option value="GMC">GMC</option>
                <option value="Cadillac">Cadillac</option>
                <option value="Infinity">Infinity</option>
                <option value="Mercury">Mercury</option>
                <option value="Dodge">Dodge</option>
                <option value="Ram">Ram</option>
                <option value="Lexus">Lexus</option>
                <option value="Lamborghini">Lamborghini</option>
                <option value="Honda">Honda</option>
                <option value="Nissan">Nissan</option>
                <option value="Ford">Ford</option>
                <option value="Hyundai">Hyundai</option>
                <option value="Saab">Saab</option>
                <option value="Toyota">Toyota</option>
              </select>
              <div class="feedback">Please select <b>Color</b></div>
            </div> -->
            <!-- <div class="col-lg-4">
              <label>Enter Model year</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="Model Year"
                name="modelYear"
                [class.is-invalid]="isControlInvalid('modelYear')"
                [class.is-valid]="isControlValid('modelYear')"
                formControlName="modelYear"
              />
              <div class="feedback" *ngIf="!isControlTouched('modelYear')">
                Please enter <b>Model</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('modelYear')">
                Model year was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'modelYear')"
              >
                Model year is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'modelYear')"
              >
                Model year should have at least 3 symbols
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('min', 'modelYear')"
              >
                Model year can't be less than 1900
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('max', 'modelYear')"
              >
                Model year can't be more than 2023
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'modelYear')"
              >
                Model year should have maximum 100 symbols
              </div>
            </div> -->
          </div>
          <div  class="form-group row">
            <div class="col-lg-4">
              <label>Mã danh mục</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="categoryId"
                name="categoryId"
                formControlName="categoryId"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('mileage')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('mileage')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>partnerID</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="partnerID"
                name="partnerID"
                formControlName="partnerID"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('mileage')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('mileage')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>Mới</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="isNew"
                name="isNew"
                formControlName="isNew"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('mileage')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('mileage')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
            </div>
          </div>
          <div class="form-group row">
            <div class="col-lg-4">
              <label>isHot</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="isHot"
                name="isHot"
                formControlName="isHot"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('isHot')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('isHot')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>viewCount</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                name="viewCount"
                formControlName="viewCount"
              />
            </div>
            <div class="col-lg-4">
              <label>Giá tiền(VND)</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="Giá tiền"
                name="price"
                formControlName="price"
              />
            </div>
          </div>
          <div class="form-group row">
            <div class="col-lg-4">
              <label>Giá khuyến mãi</label>
              <input
                type="number"
                class="form-control form-control-lg form-control-solid"
                placeholder="Giá khuyến mãi"
                name="promotionPrice"
                formControlName="promotionPrice"
              />
              <!-- <div class="feedback" *ngIf="!isControlTouched('mileage')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('mileage')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
            </div>
            <div class="col-lg-4">
              <label>Video</label>
              <input
                class="form-control form-control-lg form-control-solid"
                name="video"
                formControlName="video"
              />
            </div>
            <div class="col-lg-4">
              <label>Status</label>
              <input
                type="status"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="Status"
                name="status"
                formControlName="status"
              />
            </div>
          </div>
          <div class="form-group">
              <label>Nội dung</label>
              <textarea
                type="textarea"
                class="form-control form-control-lg form-control-solid"
                placeholder="content"
                name="content"
                formControlName="content"
                style="height: 100px;"
              ></textarea>
              <!-- <div class="feedback" *ngIf="!isControlTouched('mileage')">
                Please enter <b>Mileage</b>
              </div>
              <div class="valid-feedback" *ngIf="isControlValid('mileage')">
                Mileage was entered correct
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('required', 'mileage')"
              >
                Mileage is required
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('minlength', 'mileage')"
              >
                Mileage should have at least 1 symbol
              </div>
              <div
                class="invalid-feedback"
                *ngIf="controlHasError('maxLength', 'mileage')"
              >
                Mileage year should have maximum 100 symbols
              </div> -->
          </div>
      
          <div class="form-group row">
            <div class="col-lg-4">
              <label>seoAlias</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="seoAlias"
                name="seoAlias"
                formControlName="seoAlias"
              />
            </div>
            <div class="col-lg-4">
              <label>seoKeyword</label>
              <input
                class="form-control form-control-lg form-control-solid"
                name="seoKeyword"
                formControlName="seoKeyword"
              />
            </div>
            <div class="col-lg-4">
              <label>stock</label>
              <input
                class="form-control form-control-lg form-control-solid"
                name="stock"
                formControlName="stock"
              />
            </div>
          </div>
          <div class="form-group">
            <label>seoDescription</label>
            <textarea
              name="seoDescription"
              class="form-control form-control-solid"
              formControlName="seoDescription"
            ></textarea>
          </div>
          <div class="form-group row">
            <div class="col-lg-4">
              <label>productNameSlug</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="productNameSlug"
                name="productNameSlug"
                formControlName="productNameSlug"
              />
            </div>
            <!-- <div class="col-lg-4">
              <label>productTags</label>
              <input
                type="text"
                class="form-control form-control-lg form-control-solid"
                autocomplete="off"
                placeholder="productTags"
                name="productTags"
                formControlName="productTags"
              />
            </div> -->
            <!-- <div class="col-lg-4">
              <label>Select Condition</label>
              <select
                class="form-control form-control-lg form-control-solid"
                name="condition"
                formControlName="condition"
              >
                <option value="1">New</option>
                <option value="2">Used</option>
              </select>
              <div class="feedback">Please select <b>Condition</b></div>
            </div> -->
          </div>
          <!-- <div class="form-group row">
            <div class="col-lg-4">
              <label>Select Condition</label>
              <select
                class="form-control form-control-lg form-control-solid"
                name="condition"
                formControlName="condition"
              >
                <option value="1">New</option>
                <option value="2">Used</option>
              </select>
              <div class="feedback">Please select <b>Condition</b></div>
            </div>
            <div class="col-lg-4">
              <label>Select Status</label>
              <select
                class="form-control form-control-lg form-control-solid"
                name="status"
                formControlName="status"
              >
                <option value="1">Selling</option>
                <option value="2">Sold</option>
              </select>
              <div class="feedback">Please select <b>Status</b></div>
            </div>
            <div class="col-lg-4">
              <label>Select Condition</label>
              <select
                class="form-control form-control-lg form-control-solid"
                name="condition"
                formControlName="condition"
              >
                <option value="1">New</option>
                <option value="2">Used</option>
              </select>
              <div class="feedback">Please select <b>Condition</b></div>
            </div>
          </div> -->
          <div class="form-group">
            <label>Description</label>
            <textarea
            style="height: 200px;"
              name="description"
              class="form-control form-control-solid"
              formControlName="description"
            ></textarea>
          </div>
          <div class="float-right">
            <button
            type="submit"
            class="btn btn-success font-weight-bold mr-2"
            [disabled]="formGroup.invalid"
          >
            Lưu lại
          </button>
            <a
              class="btn btn-danger font-weight-bold mr-2"
              routerLink="/ecommerce/products"
              >Thoát</a
            >
          </div>
        </form>
      </div>
    </ng-container>

    <ng-container
      *ngIf="activeTabId === tabs.REMARKS_TAB && product && product.id"
    >
      <app-remarks [productId]="product.id"></app-remarks>
    </ng-container>

    <ng-container
      *ngIf="activeTabId === tabs.SPECIFICATIONS_TAB && product && product.id"
    >
      <app-specifications [productId]="product.id"></app-specifications>
    </ng-container>
  </div>
</div>
