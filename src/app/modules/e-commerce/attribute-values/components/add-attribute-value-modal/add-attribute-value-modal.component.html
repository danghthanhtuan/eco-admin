<ng-container *ngIf="isLoading">
  <div class="progress progress-modal">
    <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
      style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
</ng-container>

<div class="modal-header">
  <!-- <div class="modal-title h4"> Add</div> -->
  <ng-container *ngIf="attributeValue.id">Edit</ng-container>
  <ng-container *ngIf="!attributeValue.id">Create</ng-container>
  Attribute Value
</div>
<div class="modal-body">
  <!-- <ng-container *ngIf="isLoading">
    <span>Thêm thuộc tính....</span>
  </ng-container> -->

  <ng-container *ngIf="isLoading">
    <form action="#" class="form form-label-right" [formGroup]="formGroup">
      <div class="form-group row">
        <div class="col-lg-6">
          <label>Chọn Attribute để thêm giá trị</label>
          <select [attr.disabled]="attributeValue.id ? '' : null" class="form-control" name="attributeId" placeholder="Filter by Status" formControlName="attributeId">
            <!-- <option value="">All</option> -->
            <ng-container *ngFor="let att of listAttributes">
              <option value="{{att.id}}" selected>{{att.name}}</option>
            </ng-container>
          </select>
          <div class="invalid-feedback" *ngIf="controlHasError('required', 'attributeId')">
            Attribute là bắt buộc!
          </div>
        </div>

      </div>
      <div class="form-group row">
        <div class="col-lg-6">
          <label class="form-label">Nhập giá trị cho Attribute</label>
          <input type="text" class="form-control form-control-lg form-control-solid" name="attributeValueName"
            placeholder="attributeValueName" autocomplete="off"
            [class.is-invalid]="isControlInvalid('attributeValueName')"
            [class.is-valid]="isControlValid('attributeValueName')" formControlName="attributeValueName" />
          <div class="valid-feedback" *ngIf="isControlValid('attributeValueName')">
            Tên thuộc tính hợp lệ
          </div>
          <div class="invalid-feedback" *ngIf="controlHasError('required', 'attributeValueName')">
            Tên thuộc tính bắt buộc
          </div>
          <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'attributeValueName')">
            Phải hiều hơn 1 ký tự
          </div>
          <div class="invalid-feedback" *ngIf="controlHasError('maxlength', 'attributeValueName')">
            Tối đa 100 ký tự
          </div>
        </div>
        <div class="col-lg-6">
          <label class="form-label">Nhập url (redirect trang mong muốn)</label>
          <input type="text" class="form-control form-control-lg form-control-solid" name="url" placeholder="url"
            autocomplete="off" [class.is-invalid]="isControlInvalid('url')" [class.is-valid]="isControlValid('url')"
            formControlName="url" />
          <!-- <div class="valid-feedback" *ngIf="isControlValid('url')">
            Url hợp lệ
          </div> -->
          <!-- <div
            class="invalid-feedback"
            *ngIf="controlHasError('required', 'url')"
          >
            Url bắt buộc
          </div> -->
          <!-- <div
            class="invalid-feedback"
            *ngIf="controlHasError('minlength', 'url')"
          >
            Phải hiều hơn 1 ký tự
          </div>
          <div
            class="invalid-feedback"
            *ngIf="controlHasError('maxlength', 'url')"
          >
          Url đa 100 ký tự
          </div> -->
        </div>
      </div>
    </form>

  </ng-container>

</div>

<div class="modal-footer">
  <div>
    <button type="button" class="btn btn-light btn-elevate mr-1" (click)="modal.dismiss()">
      Cancel
    </button>&nbsp;
    <button type="button" class="btn btn-primary btn-elevate" (click)="save()">
      OK
    </button>
  </div>
</div>